<div class="container">
  <div class="row">
    <div class="col-6">
		<mat-card>
		  <mat-card-header>
		    <mat-card-title>Advanced Token</mat-card-title>
		    <mat-card-subtitle>{{tokenInfo[2]}}</mat-card-subtitle>
		  </mat-card-header>
		  <mat-card-content>
			<mat-list>
			  <mat-divider></mat-divider>
			  <mat-list>
			  	<mat-list-item>Owner: {{tokenInfo[3]}}</mat-list-item>
			  	<mat-list-item>Name: {{tokenInfo[4]}}</mat-list-item>
			  	<mat-list-item>Symbol: {{tokenInfo[5]}}</mat-list-item>
			  	<mat-list-item>Total Supply: {{tokenInfo[6]}}</mat-list-item>
			  </mat-list>
			</mat-list>
		  </mat-card-content>
		  <mat-card-actions>
		    <button mat-button (click)="blockExplorerAdr(tokenInfo[2])">Explore</button>
		  </mat-card-actions>
		</mat-card>
    </div>
    <div class="col-6">
		<mat-form-field>
			<mat-select placeholder="Select function" [(ngModel)]="functionSelected"
			(change)="onFunctionSelected(functionSelected)">
			  <mat-option *ngFor="let function of tokenInfo[1]; index as i;" value={{i}}>{{function.name}}</mat-option>
			</mat-select>
		</mat-form-field>

		<div *ngIf="functionIndex" id="functionDiv">
			{{docs[1].notice}}
			<span *ngIf="docs[1].onlyOwner" style="color:red;">Only for contract owner</span>
			<div *ngFor="let input of tokenInfo[1][functionIndex].inputs; index as i;">
				<mat-input-container class="contractField">
					<input matInput [(ngModel)]="functionParams[i]" required
					placeholder={{input.name}} name="{{input.name}}">
				</mat-input-container>
				<p *ngIf="input.name" class="devdoc">
					type: {{input.type}} | {{docs[0].params[input.name]}}
				</p>
			</div>
			<div *ngIf="tokenInfo[1][functionIndex].name == 'buy'">
				<mat-input-container class="contractField">
					<input matInput [(ngModel)]="functionParams[0]" required
					placeholder="amount" name="amount">
				</mat-input-container>
				<p class="devdoc">
					type: uint256 | the amount of ether (in wei) you want to spend to buy tokens
				</p>
			</div>
			<mat-card-actions>
		        <button mat-button (click)="executeContract(functionSelected)"
		        color="primary">Execute</button>
			</mat-card-actions>
		</div>
    </div>
  </div>
</div>

<h2>{{status}}</h2>
<app-tx></app-tx>